<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>opret lejeaftale</title>
    <link rel="stylesheet" th:href="@{/fragment/nav-menu.css}">
    <link rel="stylesheet" th:href="@{/base.css}">
</head>

<header th:replace="fragment/nav-menu.html :: header"></header>

<body>
<div id="content">

    <!--    create new contract -->
    <h1>Opret lejeaftale</h1>
    <hr>
    <br>
    <div id="formdiv">
        <form action="/makeContract" method="post">
            <label for="startDate">Startdato:</label><br>
            <input type="date" name="startDate" th:value="${date}" required><br>
            <label for="endDate">Slutdato:</label><br>
            <input type="date" name="endDate" th:value="${date}" required><br>
            <label for="monthlyPrice">Monthly price:</label><br>
            <input type="text" name="monthlyPrice" required><br>
            <label for="customerID">customer ID:</label><br>
            <select name="customerID"><br>
                <option th:each="customer: ${customers}"
                        th:value="${customer.customerID}"
                        th:text="|${customer.customerID}|">
                </option>
            </select><br>
            <label for="vehicleID">Vognnummer:</label><br>
            <select name="vehicleID"><br>
                <option th:each="car: ${cars}"
                        th:value="${car.vehicleID}"
                        th:text="|${car.vehicleID}|">
                </option>
            </select><br>
            <label for="employeeId">employee ID:</label><br>
            <input type="text" name="employeeID" th:value="${employeeID}" readonly><br><br>
            <br>
            <div th:each="option : ${optionals}">
                <div>
                    <input th:name="${option.optionalID}" type="checkbox" th:value="${option.optionalID}"/>
                    <label th:for="${option.optionalID}" th:text="${option.name}"></label>
                </div>
            </div>


            <div id="optionaldiv">
                <table>
                    <tr>
                        <th colspan="4">
                            Ekstra udstyr til bilen
                        </th>
                    </tr>
                    <tr>
                        <th>Tryk for at tilføje udstyr</th>
                        <th>Ekstra udstyr</th>
                        <th>pris per måned</th>
                        <th><input type="checkbox" name="optional all" value="Optional all"><br><br>
                        </th>
                    </tr>
                    <tr>
                    </tr>
                </table>
            </div>
            <button style="float: right" type="submit">send</button>
            <br>
        </form>

    </div>
    <!--   <br>
   <div id="optionaldiv">
       <table>
           <tr><th colspan="3">
               Ekstra udstyr til bilen </th></tr>
           <tr>
               <th>Tryk for at tilføje udstyr</th>
               <th>Ekstra udstyr</th>
               <th>pris per måned</th>
           </tr>-->
    <!--        <tr th:each="contract : ${leaseContracts}">
                <td th:text="${contract.leaseID}"></td>
                <td th:text="${contract.startDate}"></td>
                <td th:text="${contract.endDate}"></td>
                <td th:text="${contract.vehicleID}"></td>
                <td th:text="${contract.customerID}"></td>
                <td th:text="${contract.monthlyPrice}"></td>

                         <form>
                         <label for="optional1"> optional1</label>
                            <input type="checkbox" id="optional1" name="optional1" value="optional1">
                            <input type="hidden" name="leaseID" th:value="${contract.leaseID}">
                        </form>

            </tr>-->
    </table>
</div>
<br><br><br>
<hr>
<br><br><br>
<div id="tablediv">
    <!--    leaseContracts-->
    <table>
        <tr>
            <th colspan="9">
                Leasingaftaler
            </th>
        </tr>
        <tr>
            <th>ID</th>
            <th>Start date</th>
            <th>End date</th>
            <th>Monthly price</th>
            <th>Customer ID</th>
            <th>Vehicle ID</th>
            <th>Employee ID</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
        <tr th:each="contract : ${leaseContracts}">
            <td th:text="${contract.leaseID}"></td>
            <td th:text="${contract.startDate}"></td>
            <td th:text="${contract.endDate}"></td>
            <td th:text="${contract.monthlyPrice}"></td>
            <td th:text="${contract.customerID}"></td>
            <td th:text="${contract.vehicleID}"></td>
            <td th:text="${contract.employeeID}"></td>
            <td><!--
                <a th:href="@{'/edit-leasecontract/'+${user.usrID}}">
                    <button class="btn-edit" id="btn-edit">Edit user</button></a>
                    -->
                <form method="get" action="/edit-leasecontract">
                    <input type="hidden" name="leaseID" th:value="${contract.leaseID}">
                    <input type="submit" value="Edit">
                </form>
                <!--  <form method="POST" action="@{'/edit-leasecontract?id='+${contract.leaseID}}">
                      <input type="submit" value="Edit">
                      <input type="hidden" name="leaseID" th:value="${contract.leaseID}">
                  </form>-->
            </td>


            <td>
                <form method="POST" action="/delete-leasecontract">
                    <input type="submit" value="Delete">
                    <input type="hidden" name="leaseID" th:value="${contract.leaseID}">
                </form>
            </td>
        </tr>
    </table>
</div>

</body>

</html>